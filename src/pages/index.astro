---
import IndexLayout from '@/layouts/IndexLayout.astro'
import ImageOptimizer from '@/components/ui/ImageOptimizer.astro'
import Button from '@/components/ui/Button.astro'

const heroImage = 'https://www.figma.com/api/mcp/asset/cefe2195-807c-48b8-b3f4-1560de05dc9c'
const testimonialImage = 'https://www.figma.com/api/mcp/asset/93ecb1f5-ee99-4d35-b5b4-6a91156cb21b'
const networkImage = 'https://www.figma.com/api/mcp/asset/71c7d72c-b723-4a84-b64c-12af3dc26d2b'
---

<IndexLayout
  title="Totem Grid ‚Äî Lose Yourself, Not Your Friends"
  description="Seamless connection at crowded events with Totem Grid. Discover how we keep crews together when the network dies."
>
  <main class="landing-page">
    <header class="landing-hero card-depth" aria-labelledby="landing-hero-heading">
      <div
        class="landing-hero-unicorn"
        data-us-project-src="/unicorn/slidebg.json"
        data-us-production="true"
        data-us-lazyload="false"
        data-us-dpi="4"
        data-us-alttext="Animated Totem Grid background"
        data-us-arialabel="Animated hero background scene"
      ></div>
        <div class="landing-hero-content">
          <img src="/brand/logoshape.svg" width="180" height="180" alt="Totem Grid" />
          <div class="landing-hero-text">
            <img src="/brand/logotype.svg" height="64" alt="Totem Grid" />
            <span class="landing-hero-tagline">Lose yourself, <u>not</u>&nbsp;your&nbsp;friends</span>
          </div>
        </div>
    </header>
    <section class="landing-app-pitch">
      <div class="landing-app-pitch-content">
        <h2 class="heading-xl" 
          style="
            margin: 0;
            color: var(--colors-teal-95);
            text-shadow: 4px 4px 8px var(--colors-teal-95);
            -webkit-text-stroke-width: 1px; 
            -webkit-text-stroke-color: var(--colors-indigo-40)
        ">
          <span style="color: var(--colors-ink-20);">Seamless connection at crowded events ‚Äî </span>no compass or cell service required
        </h2>
        <div style="max-width: 380px;">
          Find your friends no matter what. Built for crowded, remote festivals, and unforgettable weekends.
        </div>
        <Button
          href="/beta-test"
          label="Get the app"
          variant="primary"
          icon="‚ñ∂"
          ariaLabel="Get the Totem Grid app"
        />
        <div>
          Organizing a festival? <a href="/partner-up">ü§ù Partner Up</a>
        </div>
      </div>
      <div class="landing-app-pitch-demo card-depth">
        <img src="/media/demo-walkthrough.gif" alt="Visual walkthrough of the app" />
      </div>
    </section>
    <section class="feature-grid" aria-label="Key capabilities">
      <article class="feature-card">
        <span class="feature-emoji" aria-hidden="true">‚úàÔ∏è</span>
        <div class="feature-content">
          <div class="heading-l">Works in Airplane Mode</div>
          <div>No data plan? No network? No problem. Perfect for remote festivals.</div>
        </div>
      </article>
      <article class="feature-card">
        <span class="feature-emoji" aria-hidden="true">üìç</span>
        <div class="feature-content">
          <div class="heading-l">Friend Finding</div>
          <div>Precise directions to your friends no matter where they are in the crowd.</div>
        </div>
      </article>
    </section>
    <section class="feature-grid" aria-label="Key capabilities">
      <article class="feature-card">
        <span class="feature-emoji" aria-hidden="true">üó∫</span>
        <div class="feature-content">
          <div class="heading-l">Event Maps</div>
          <div>Find stages, vendors, toilets... your tent!</div>
        </div>
      </article>
      <article class="feature-card">
        <span class="feature-emoji" aria-hidden="true">üõü</span>
        <div class="feature-content">
          <div class="heading-l">Safety Check-ins</div>
          <div>Get help or notify your group instantly</div>
        </div>
      </article>
      <article class="feature-card">
        <span class="feature-emoji" aria-hidden="true">üîê</span>
        <div class="feature-content">
          <div class="heading-l">Private</div>
          <div>Only the friends you add can see you.</div>
        </div>
      </article>
    </section>

    <section class="highlight-block" aria-labelledby="highlight-heading">
      <div class="highlight-overlay"></div>
      <div class="highlight-content">
        <h2 id="highlight-heading">We digitized the festival totem</h2>
        <p>Just an app ‚Äî no extra hardware. The bigger the crowd gets, the better it works.</p>
      </div>
    </section>

    <section class="people-love" aria-labelledby="people-heading">
      <div class="people-media">
        <ImageOptimizer
          src={testimonialImage}
          width={960}
          height={540}
          alt="Festival goers smiling together"
          class="people-image"
        />
      </div>
      <p id="people-heading" class="people-caption">People love it</p>
    </section>

    <section class="why-section">
      <h2 class="why-heading">Wait ‚Äì but *why*?</h2>
      <div class="why-content">
        <div class="why-copy">
          <h3>When the network dies, everyone feels it</h3>
          <p>
            Your crew is scattered somewhere in a sea of people and texts will not go through. Wi-Fi melts down, LTE
            collapses, and even SOS signals can struggle. Events lose trust, sales, and safety ‚Äî you and your crew lose
            each other.
          </p>
        </div>
        <div class="why-visual">
          <ImageOptimizer src={networkImage} width={480} height={360} alt="Network outage visual" class="why-image" />
        </div>
      </div>
      <p class="why-footnote">
        Totem Grid connects phones directly, creating a living, breathing local network that thrives in dense crowds ‚Äî
        the bigger the crowd gets, the better it works.
      </p>
    </section>
  </main>
</IndexLayout>

<style>
  .landing-hero {
    position: relative;
    padding: 4rem 2rem;
    border-radius: 16px;
    overflow: hidden;
    color: var(--colors-ink-100);
    border: 1px solid var(--colors-indigo-0);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .landing-hero img {
    max-width: 100%;
  }

  .landing-hero-unicorn {
    position: absolute;
    inset: -35% -20% -10% -20%;
    pointer-events: none;
    z-index: -1;
  }

  .landing-hero-unicorn canvas,
  .landing-hero-unicorn video,
  .landing-hero-unicorn iframe {
    pointer-events: none;
  }

  .landing-hero-inner {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
  }

  .landing-hero-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }

  .landing-hero-text {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 8px;
    text-align: center;
  }

  .landing-hero-tagline {
    font-size: var(--font-size-m);
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1.12px;
    margin-left: 17px;
  }

  @media (min-width: 900px) {
    .landing-hero {
      
    }

    .landing-hero-content {
      flex-direction: row;
    }

    .landing-hero-text {
      align-items: flex-start;
    }
  }

  .landing-app-pitch {
     display: flex;
     flex-direction: column;
     padding: 2rem 0;
     gap: 40px;
     align-items: center;
     justify-content: center;
  }

  .landing-app-pitch-content {
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 16px;
    max-width: 430px;
    align-items: center;
  }

  .landing-app-pitch-demo {
    overflow: hidden;
    width: 200px;
    height: 426px;
    transform: rotate(1.781deg);
    border-radius: 33px;
    flex-shrink: 0;
    flex-grow: 0;
    img {
      position: relative;
      top: -9px;
      left: -10px;
      width: 220px;
    }
  }

  @media (min-width: 768px) {
    .landing-app-pitch {
      flex-direction: row;
      padding: 2rem;
      padding-top: 0;
    }

    .landing-app-pitch-content {
      text-align: right;
      align-items: flex-end;
    }

    .landing-app-pitch-demo {
      margin-top: -80px;
    }
  }

  .feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 16px;
    margin-bottom: 16px;
  }

  .feature-card {
    display: flex;
    padding: 16px;
    align-items: center;
    gap: 16px;
    border-radius: 12px;
    border: 1px solid var(--colors-bright-ink-70, #ABA4E3);
    background: var(--colors-ink-99, #FCF8FF);
    box-shadow: 0 0.879px 35.156px 7.031px var(--colors-ink-150, #E4E0FA), 0 -0.879px 3.516px -0.879px var(--colors-Ink-500, #9B97CE) inset, 0 0.879px 3.516px -0.879px #FFF inset;
  }

  .feature-content {
    display: flex;
    flex-direction: column;
    gap: 4px;

    .heading-l {
      color: var(--colors-indigo-40);
    }
  }

  .feature-emoji {
    font-size: 2.5rem;
    display: inline-block;
  }

  .people-love {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
    text-align: center;
  }

  .people-image :global(img) {
    border-radius: 1.25rem;
    box-shadow: 0 20px 40px rgba(26, 9, 62, 0.2);
  }

  .people-caption {
    font-family: var(--font-pixel);
    font-size: 1.5rem;
    letter-spacing: 0.08em;
    color: #4d00ff;
    text-transform: uppercase;
    margin: 0;
  }
</style>
